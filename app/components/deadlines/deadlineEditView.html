<div data-ng-show="deadlineEdit.loading" class="loading_wrapper" style="width: 100%; height: 100%;">
    <div class="loading"></div>
</div>
<div data-ng-show="!deadlineEdit.loading" class="dynamic-post" style="display: block;">
    <p style="text-align: center; font-size: 14px; margin: 6px 0px;">Edit Deadline</p>
    <form name="deadlineForm" ng-submit="deadlineEdit.updateDeadline()" novalidate>
        <div class="edit-meta">
            <input type="title" placeholder="Title" data-ng-model="deadlineEdit.deadline.deadline.title" requird>
            <div style="float: right;">
                <select id="" name="day" data-ng-options="day for day in deadlineEdit.days" data-ng-model="deadlineEdit.deadline.deadline.day">
                </select>
                <select id="" name="month" data-ng-options="month.id as month.name for month in deadlineEdit.months" data-ng-model="deadlineEdit.deadline.deadline.month">
                </select>
                <select id="" name="year" data-ng-options="year for year in deadlineEdit.years" data-ng-model="deadlineEdit.deadline.deadline.year">
                </select>
            </div>
        </div>
        <div class="edit-sub-meta">
            <input type="subject" placeholder="Subject" data-ng-model="selectedDeadline.deadline.subject">
            <input type="text" style="float: right; text-align: right;"  placeholder="12:00" data-ng-model="deadlineEdit.deadline.deadline.time">
            <!-- <select id="" name=""></select> -->
        </div>
        <div class="dynamic-content">
            <div text-angular ng-model="deadlineEdit.deadline.deadline.content"></div>
                <div data-ng-repeat="choice in deadlineEdit.choices">
                    <select id="" name="klass" data-ng-change="deadlineEdit.onChange($index)"  data-ng-options="klass.id as klass.name for klass in
                    deadlineEdit.availableKlasses[$index]" data-ng-model="choice.value" placeholder="Class">
                        <option value="" disabled selected>Select your class</option>
                    </select>
                    <button class="remove" ng-show="!$first && (choice.value != null)" ng-click="deadlineEdit.removeChoice($index)">X</button>
                </div>
                <!-- <a id="addNewChoice" ng&#45;click="deadlineEdit.addNewChoice()">More</a> -->
        </div>

        <div class="dynamic-classes">
            <div data-ng-repeat="assignedKlass in
                selectedDeadline.deadline.klass_ids track by $index" style="display: inline-block;">
                <div >
                    <select id="" name="klass" data-ng-change="updateKlass()" data-ng-options="klass.id as klass.name for klass in klassList.klasses" data-ng-model="selectedDeadline.deadline.klass_ids[$index]" placeholder="Class" style="display: inline-block;">
                        <option value="" disabled selected>Select class</option>
                    </select>
                    <div data-ng-hide="$index == 0" data-ng-click="removeAssignment($event,selectedDeadline.deadline.klass_ids[$index])" style="display: inline-block;">
                        x
                    </div>
                </div>
            </div>


            <div data-ng-click="addAssignment()" class="dynamic-addclass">+</div>
        </div>

        <div class="dynamic-options">
            <!-- <div class="dynamic-username" style="display: inline-block;" data-ng-hide="selectedDeadline.deadline.creator.id == null">
                <img class="gravatar" src="{{gravatar(selectedDeadline.deadline.creator.gravatarHash, 30)}}">
                <p>{{selectedDeadline.deadline.creator.firstname}} {{selectedDeadline.deadline.creator.prefix}} {{selectedDeadline.deadline.creator.lastname}}</p>
            </div> -->
        <div class="dynamic-username" style="display: inline-block;" data-ng-hide="deadlineEdit.deadline.deadline.creator.id == null">
            <img class="gravatar" src="{{gravatar(deadlineEdit.deadline.deadline.creator.gravatarHash, 30)}}">
            <p>{{deadlineEdit.deadline.deadline.creator.firstname}} {{deadlineEdit.deadline.creator.prefix}} {{deadlineEdit.deadline.creator.lastname}}</p>
        </div>
        <div class="dynamic-username" style="display: inline-block;" data-ng-hide=" deadlineEdit.deadline.deadline.creator.id == deadlineEdit.deadline.editor.id ||
            deadlineEdit.deadline.deadline.editor.id == null">
            <img class="gravatar" src="{{gravatar(deadlineEdit.deadline.deadline.editor.gravatarHash, 30)}}">
            <p>{{deadlineEdit.deadline.deadline.editor.firstname}} {{deadlineEdit.deadline.editor.prefix}} {{deadlineEdit.deadline.editor.lastname}}</p>
        </div>
            <button class="btn_save" style="margin: 0 auto; font-size: 12px;" type="submit">Save</button>
            <!-- <a class="btn_save" style="color: #fff !important;  display: inline-block; float: right;" ui-sref="mainon.deadlines.show({showID:
            selectedDeadline.deadline.id})"type="">Cancel</a> -->
        </div>
    </form>
</div>
